<html>
<head>
      <script type="text/javascript" src="/apcsa/llab/loader.js">
      </script>
      <title>Using <tt>double</tt>s and <tt>int</tt>s in the same program</title>

</head>
<body>
<p>
The problem with our modification to <tt>averageUse</tt> is that
the computation of the average is still done in an expression
involving <i>only</i> <tt>int</tt> values.
The division of two integer values <i>always</i> discards any
fractional remainder, regardless of how the result of the division
is subsequently used.
</p>
<p>
A way to fix it is to multiply one of the values involved in the division
by 1.0 to convert it to a <tt>double</tt>, for example as follows.
</p>
<pre>
   public double averageUse ( ) {
      return (1.0 * myTotalUse) / myUseUpCallCount;
   }
</pre>
<p>
Whenever an arithmetic operation involves a <tt>double</tt> and an <tt>int</tt>,
the <tt>int</tt> value is converted to a <tt>double</tt> before the operation
is performed.  Division of one <tt>double</tt> by another retains the remainder
on the right-hand side of the decimal point.
</p>

</body>
</html>
